% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_summary.R
\name{get_summary}
\alias{get_summary}
\title{Get Summary Statistics from Length Composition}
\usage{
get_summary(
  x,
  by_stratum = FALSE,
  type = "composition",
  sex = c("male", "female", "total"),
  stratum = NULL,
  length_range = NULL
)
}
\arguments{
\item{x}{An object of class \code{length_composition}}

\item{by_stratum}{Logical, whether to calculate summaries by stratum (TRUE) or pooled across strata (FALSE). Default is FALSE.}

\item{type}{Character, either "composition" or "proportion" to specify which CV values to use. Default is "composition".}

\item{sex}{Character vector specifying which sex categories to include. Default is c("male", "female", "total").}

\item{stratum}{Character, specific stratum name when by_stratum = TRUE. If NULL, all strata are included. Default is NULL.}

\item{length_range}{Numeric vector of length 2 specifying the length range c(min, max) to include in calculations. If NULL, all lengths are used. Default is NULL.}
}
\value{
A list containing summary statistics:
\describe{
  \item{mean_weighted_cv}{Mean weighted coefficient of variation}
  \item{n}{Number of fish sampled by sex category, total sampled fish, and the number of hauls sampled}
}
}
\description{
This function calculates summary statistics from a length composition object,
including mean weighted coefficient of variation (CV), number of fish sampled,
and total number of hauls sampled.
}
\details{
The function calculates the mean weighted CV using the formula:
\deqn{CV_{weighted} = \frac{\sum_{i} w_i \times CV_i}{\sum_{i} w_i}}
where \eqn{w_i} are the composition values (weights) and \eqn{CV_i} are the
coefficient of variation values.

Fish counts and haul counts are extracted from pre-computed summary statistics
stored during the length composition calculations. When \code{length_range} is
specified, a warning is issued as fish counts represent the full range used in
the original calculation.

When \code{by_stratum = FALSE}, the function uses pooled data across all strata.
When \code{by_stratum = TRUE}, the function calculates summaries for each stratum separately.
}
\examples{
\dontrun{
# Generate test data and calculate length compositions with bootstrap
test_data <- generate_test_data("commercial")
result <- calculate_length_compositions(
  fish_data = test_data$fish_data,
  strata_data = test_data$strata_data,
  length_range = c(25, 55),
  bootstraps = 100
)

# Get summary statistics for pooled data
summary_stats <- get_summary(result)

# Get summary statistics by stratum
summary_by_stratum <- get_summary(result, by_stratum = TRUE)

# Get summary statistics for proportions
summary_prop <- get_summary(result, type = "proportion")

# Get summary statistics for specific sex categories
summary_total <- get_summary(result, sex = "total")

# Get summary statistics for specific length range
summary_range <- get_summary(result, length_range = c(30, 50))
}

}
