% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_alks.R
\name{compare_alks}
\alias{compare_alks}
\title{Compare Age-Length Keys from Modelled and Empirical Methods}
\usage{
compare_alks(
  empirical_alk,
  model_alk,
  lengths = NULL,
  sexes = NULL,
  visualize = FALSE,
  verbose = FALSE
)
}
\arguments{
\item{empirical_alk}{A complete ALK from \code{create_alk()} (data.frame or
named list of sex-specific data.frames) with columns: length, age, proportion, n (optional).}

\item{model_alk}{An \code{ordinal_alk} object returned by \code{fit_ordinal_alk()}.}

\item{lengths}{Optional numeric vector of lengths to compare. Defaults to the
unique lengths present in \code{empirical_alk}.}

\item{sexes}{Optional character vector of sex categories to compare when applicable
(subset of model_alk$sex_levels and those present in empirical_alk). If NULL, use
their intersection.}

\item{visualize}{Logical, whether to return a ggplot heatmap of differences (default FALSE).}

\item{verbose}{Logical, whether to display progress messages (default FALSE).}
}
\value{
A list with components:
  \itemize{
    \item \code{comparison_data}: data.frame of per-cell differences with columns (length, age, sex, empirical_prop, model_prop, difference, abs_difference)
    \item \code{summary_stats}: summary metrics overall and by sex: RMSE, MAE, MaxAbs, correlation
    \item \code{empirical_type}: Type of empirical ALK used
    \item \code{model_type}: Type of model ALK used
    \item \code{comparison_lengths}: Lengths used for comparison
    \item \code{sex_categories}: Sex categories compared
    \item \code{plot}: ggplot object when \code{visualize=TRUE}, otherwise NULL
  }
}
\description{
Compares an age-length key generated by the ordinal GAM model
(\code{fit_ordinal_alk}) with an empirical key created by \code{create_alk}.
Produces per-cell differences and summary metrics by length and sex, with an
optional visualisation of differences.
}
