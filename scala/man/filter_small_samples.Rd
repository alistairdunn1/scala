% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/filter_small_samples.R
\name{filter_small_samples}
\alias{filter_small_samples}
\title{Filter Small Samples from Fisheries Data}
\usage{
filter_small_samples(fish_data, samples_to_exclude)
}
\arguments{
\item{fish_data}{A data frame containing fisheries sampling data}

\item{samples_to_exclude}{A data frame with sample_id and stratum columns
identifying samples to exclude (typically from \code{evaluate_sample_sizes()}).
Common usage: \code{evaluation$non_representative_small_samples} or
\code{evaluation$all_small_samples}}
}
\value{
A list containing:
  \describe{
    \item{filtered_fish_data}{Filtered fish data with specified samples removed}
    \item{excluded_samples}{Data frame of excluded samples}
    \item{filter_summary}{Summary of filtering impact}
  }
}
\description{
Creates a filtered version of fisheries data by excluding specified samples
identified by the sample size evaluation. This simplified approach removes
samples that are explicitly marked for exclusion.
}
\details{
This function provides a simple filtering mechanism based on explicitly
identified samples to exclude. The function includes input validation to
ensure proper usage and provide helpful error messages.

Use with caution as excluding samples can:
\itemize{
  \item Improve bootstrap stability and reduce uncertainty estimates
  \item Reduce spatial or temporal coverage of the analysis
  \item Introduce bias if excluded samples are not randomly distributed
  \item Reduce total sample size significantly
}

\strong{Best Practice}: Always run analyses both with and without filtering
to assess sensitivity of results to sample exclusion.
}
\examples{
\dontrun{
# Generate test data and evaluate sample sizes
test_data <- generate_test_data()
evaluation <- evaluate_sample_sizes(test_data$fish_data)

# Filter using non-representative small samples from evaluation
filtered_data <- filter_small_samples(
  test_data$fish_data,
  evaluation$non_representative_small_samples
)

# Or filter using all small samples
filtered_data_all <- filter_small_samples(
  test_data$fish_data,
  evaluation$all_small_samples
)

# Compare original vs filtered data
print("Original data summary:")
print(summary(test_data$fish_data))
print("Filtered data summary:")
print(summary(filtered_data$filtered_fish_data))
print(filtered_data$filter_summary)
}

}
\seealso{
\code{\link{evaluate_sample_sizes}} for sample size evaluation
}
