% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_sample_size_distribution.R
\name{plot_sample_size_distribution}
\alias{plot_sample_size_distribution}
\title{Plot Sample Size Distribution by Strata}
\usage{
plot_sample_size_distribution(
  evaluation_result,
  bin_width = 5,
  max_fish = NULL,
  min_fish = 0,
  show_thresholds = TRUE
)
}
\arguments{
\item{evaluation_result}{A list returned by \code{\link{evaluate_sample_sizes}}
containing sample size evaluation results.}

\item{bin_width}{Numeric, width of bins for the histogram (default: 5 fish).}

\item{max_fish}{Numeric, maximum number of fish to display on x-axis.
If NULL (default), uses the maximum observed sample size.}

\item{min_fish}{Numeric, minimum number of fish to display on x-axis (default: 0).}

\item{show_thresholds}{Logical, whether to show vertical lines indicating
minimum sample size thresholds (default: TRUE).}

\item{title}{Character, plot title. If NULL (default), generates automatic title.}
}
\value{
A ggplot object showing the stacked histogram of sample sizes by strata.
}
\description{
Creates a stacked histogram showing the distribution of sample sizes by strata,
with bars categorized by sample adequacy: non-representative small samples,
representative small samples, and adequate samples.
}
\details{
This function visualises the output from \code{\link{evaluate_sample_sizes}} as a
stacked histogram, making it easy to see:
\itemize{
  \item The distribution of sample sizes across strata
  \item Which samples fall below minimum thresholds
  \item The representativeness of small samples (when weight data is available)
  \item The relative frequency of different sample categories
}

The plot uses three categories:
\itemize{
  \item \strong{Non-representative Small}: Small samples with poor representativeness (red)
  \item \strong{Representative Small}: Small samples that are highly representative (amber)
  \item \strong{Adequate}: Samples meeting minimum fish count thresholds (green)
}

When sample weight data is not available, all small samples are grouped together
as "Small Samples" since representativeness cannot be assessed.
}
\examples{
\dontrun{
# Generate test data and evaluate sample sizes
test_data <- generate_test_data()
evaluation <- evaluate_sample_sizes(test_data$fish_data)

# Create sample size distribution plot
plot_sample_size_distribution(evaluation)

# Customize the plot
plot_sample_size_distribution(
  evaluation,
  bin_width = 10,
  max_fish = 100
)

# Plot without threshold lines
plot_sample_size_distribution(evaluation, show_thresholds = FALSE)
}

}
\seealso{
\code{\link{evaluate_sample_sizes}} for evaluating sample adequacy
}
