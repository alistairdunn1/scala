% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_alks.R
\name{compare_alks}
\alias{compare_alks}
\title{Compare Age-Length Keys from Modelled and Empirical Methods}
\usage{
compare_alks(
  ordinal,
  empirical_alk,
  lengths = NULL,
  sexes = NULL,
  plot = FALSE
)
}
\arguments{
\item{ordinal}{An \code{ordinal_alk} object returned by \code{fit_ordinal_alk()}.}

\item{empirical_alk}{A complete ALK from \code{create_alk()} (data.frame or
named list of sex-specific data.frames) with columns: length, age, proportion, n (optional).}

\item{lengths}{Optional numeric vector of lengths to compare. Defaults to the
unique lengths present in \code{empirical_alk}.}

\item{sexes}{Optional character vector of sex categories to compare when applicable
(subset of ordinal$sex_levels and those present in empirical_alk). If NULL, use
their intersection.}

\item{plot}{Logical, whether to return a ggplot heatmap of differences (default FALSE).}
}
\value{
A list with components:
  \itemize{
    \item \code{differences}: data.frame of per-cell differences with columns (length, age, sex, prop_empirical, prop_model, diff, abs_diff)
    \item \code{by_length}: summary metrics by length (and sex if applicable): RMSE, MAE, MaxAbs
    \item \code{overall}: overall summary metrics across compared cells
    \item \code{plot}: ggplot object when \code{plot=TRUE}, otherwise NULL
  }
}
\description{
Compares an age-length key generated by the ordinal GAM model
(\code{fit_ordinal_alk}) with an empirical key created by \code{create_alk}.
Produces per-cell differences and summary metrics by length and sex, with an
optional visualisation of differences.
}
