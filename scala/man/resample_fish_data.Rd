% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/resample_fish_data.R
\name{resample_fish_data}
\alias{resample_fish_data}
\title{Resample Fish Data for Bootstrap Analysis (Optimized)}
\usage{
resample_fish_data(fish_data)
}
\arguments{
\item{fish_data}{Data frame with fish observation data including columns: stratum, sample_id, length, male, female, unsexed, total}
}
\value{
Resampled fish data frame with the same structure as input
}
\description{
Resamples fish data for bootstrap uncertainty estimation by resampling both samples within strata
and individual fish within samples using optimized vectorized operations.
}
\details{
The function performs hierarchical bootstrap resampling by:
1. Resampling samples with replacement within each stratum
2. For each selected sample, directly resampling aggregated fish counts using multinomial sampling
3. Combining results without expensive expand/aggregate operations

This optimized approach captures the same uncertainty as the original expand/aggregate method
but uses vectorized operations and avoids creating individual fish records, resulting in
significantly faster performance.

The hierarchical structure (strata > samples > fish) is preserved throughout the resampling process.
}
\seealso{
\code{\link{calculate_length_compositions}} for the main analysis function that uses this resampling,
  \code{\link{generate_test_data}} for creating test data to resample
}
